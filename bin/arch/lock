#!/usr/bin/env bash
# Lock screen with hyprlock

set -euo pipefail

# Pause media playback
playerctl pause 2>/dev/null || true

# Lock Bitwarden if running
if pgrep -x "bitwarden" >/dev/null; then
  bitwarden lock 2>/dev/null &
fi

# Set keyboard to default layout
hyprctl switchxkblayout all 0 >/dev/null 2>&1 || true

# Lock with hyprlock
pidof hyprlock || hyprlock &
